swagger: '2.0'
info:
  title: MCS Best Practices REST API
  description: >-
    Curated Copilot Studio best practices, code snippets, troubleshooting
    guides, tips, and governance zone info for the MCS Governance Bootcamp.
  version: 1.0.0
host: mcs-best-practices.test.roelschenk.com
basePath: /api/v1
schemes:
  - https
securityDefinitions:
  api_key:
    type: apiKey
    in: header
    name: X-API-Key
security:
  - api_key: []
paths:
  /best-practices:
    get:
      operationId: ListBestPractices
      summary: Search best practices
      description: Search and filter curated Copilot Studio best practices by query, category, or difficulty.
      parameters:
        - name: q
          in: query
          type: string
          required: false
          description: Search query (matches title, description, tags)
        - name: category
          in: query
          type: string
          required: false
          description: Filter by category (e.g. topics, security, connectors, variables, testing)
        - name: difficulty
          in: query
          type: string
          required: false
          description: Filter by difficulty (beginner, intermediate, advanced)
      responses:
        '200':
          description: List of matching best practices
          schema:
            type: object
            properties:
              results:
                type: object
                properties:
                  id:
                    type: string
                    description: Best practice ID (e.g. bp-001)
                  title:
                    type: string
                    description: Name of the best practice
                  category:
                    type: string
                    description: Category (topics, security, connectors, variables, testing)
                  description:
                    type: string
                    description: What the best practice recommends
                  rationale:
                    type: string
                    description: Why this practice matters
                  example_good:
                    type: string
                    description: Example of correct implementation
                  example_bad:
                    type: string
                    description: Example of what to avoid
                  difficulty:
                    type: string
                    description: Skill level (beginner, intermediate, advanced)
                  tags:
                    type: string
                    description: Comma-separated related keywords
              total:
                type: integer
                description: Number of results returned
        '401':
          description: Invalid or missing API key
  /best-practices/{id}:
    get:
      operationId: GetBestPractice
      summary: Get best practice by ID
      description: Get a single best practice by its ID (e.g. bp-001).
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Best practice ID (e.g. bp-001)
      responses:
        '200':
          description: Best practice detail
          schema:
            type: object
            properties:
              id:
                type: string
                description: Best practice ID
              title:
                type: string
                description: Name of the best practice
              category:
                type: string
                description: Category
              description:
                type: string
                description: What the best practice recommends
              rationale:
                type: string
                description: Why this practice matters
              example_good:
                type: string
                description: Example of correct implementation
              example_bad:
                type: string
                description: Example of what to avoid
              difficulty:
                type: string
                description: Skill level (beginner, intermediate, advanced)
              tags:
                type: string
                description: Comma-separated related keywords
        '404':
          description: Not found
  /snippets:
    get:
      operationId: ListSnippets
      summary: Search code snippets
      description: Search and filter code snippets by query or language.
      parameters:
        - name: q
          in: query
          type: string
          required: false
          description: Search query (matches title, description, code)
        - name: language
          in: query
          type: string
          required: false
          description: Filter by language (power-fx, yaml, json, any)
      responses:
        '200':
          description: List of matching snippets
          schema:
            type: object
            properties:
              results:
                type: object
                properties:
                  id:
                    type: string
                    description: Snippet ID (e.g. snip-001)
                  title:
                    type: string
                    description: Name of the snippet
                  language:
                    type: string
                    description: Programming language (power-fx, yaml, json)
                  category:
                    type: string
                    description: Snippet category
                  description:
                    type: string
                    description: What the snippet does
                  code:
                    type: string
                    description: The code snippet (copy-paste ready)
                  explanation:
                    type: string
                    description: How the code works
                  use_case:
                    type: string
                    description: When to use this snippet
              total:
                type: integer
                description: Number of results returned
  /snippets/{id}:
    get:
      operationId: GetSnippet
      summary: Get snippet by ID
      description: Get a single code snippet by its ID (e.g. snip-001).
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Snippet ID (e.g. snip-001)
      responses:
        '200':
          description: Snippet detail
          schema:
            type: object
            properties:
              id:
                type: string
                description: Snippet ID
              title:
                type: string
                description: Name of the snippet
              language:
                type: string
                description: Programming language
              category:
                type: string
                description: Snippet category
              description:
                type: string
                description: What the snippet does
              code:
                type: string
                description: The code snippet (copy-paste ready)
              explanation:
                type: string
                description: How the code works
              use_case:
                type: string
                description: When to use this snippet
        '404':
          description: Not found
  /troubleshooting:
    get:
      operationId: ListTroubleshooting
      summary: Search troubleshooting guides
      description: Search and filter troubleshooting guides by query or category.
      parameters:
        - name: q
          in: query
          type: string
          required: false
          description: Search query (matches title, symptoms, causes)
        - name: category
          in: query
          type: string
          required: false
          description: Filter by category (e.g. connectors, publishing, auth)
      responses:
        '200':
          description: List of matching troubleshooting guides
          schema:
            type: object
            properties:
              results:
                type: object
                properties:
                  id:
                    type: string
                    description: Troubleshooting ID (e.g. ts-001)
                  title:
                    type: string
                    description: Issue title
                  category:
                    type: string
                    description: Issue category
                  symptoms:
                    type: string
                    description: What you see when this issue occurs
                  causes:
                    type: string
                    description: Common root causes
                  resolution_steps:
                    type: string
                    description: Step-by-step fix instructions
              total:
                type: integer
                description: Number of results returned
  /troubleshooting/{id}:
    get:
      operationId: GetTroubleshooting
      summary: Get troubleshooting guide by ID
      description: Get a single troubleshooting guide by its ID (e.g. ts-001).
      parameters:
        - name: id
          in: path
          type: string
          required: true
          description: Troubleshooting ID (e.g. ts-001)
      responses:
        '200':
          description: Troubleshooting guide detail
          schema:
            type: object
            properties:
              id:
                type: string
                description: Troubleshooting ID
              title:
                type: string
                description: Issue title
              category:
                type: string
                description: Issue category
              symptoms:
                type: string
                description: What you see when this issue occurs
              causes:
                type: string
                description: Common root causes
              resolution_steps:
                type: string
                description: Step-by-step fix instructions
        '404':
          description: Not found
  /tips:
    get:
      operationId: ListTips
      summary: List tips
      description: List and filter tips by category.
      parameters:
        - name: category
          in: query
          type: string
          required: false
          description: Filter by category (e.g. testing, authoring, publishing)
      responses:
        '200':
          description: List of tips
          schema:
            type: object
            properties:
              results:
                type: object
                properties:
                  id:
                    type: string
                    description: Tip ID (e.g. tip-001)
                  title:
                    type: string
                    description: Tip title
                  category:
                    type: string
                    description: Tip category
                  tip:
                    type: string
                    description: The actual tip text
                  why_it_matters:
                    type: string
                    description: Why this tip is important
                  tags:
                    type: string
                    description: Comma-separated related keywords
              total:
                type: integer
                description: Number of results returned
  /governance/{feature}:
    get:
      operationId: GetGovernance
      summary: Get governance zone info
      description: Get governance zone requirements for a Copilot Studio feature (e.g. http-connector, mcp-servers).
      parameters:
        - name: feature
          in: path
          type: string
          required: true
          description: Feature name (e.g. http-connector, mcp-servers, ai-builder)
      responses:
        '200':
          description: Governance zone detail
          schema:
            type: object
            properties:
              id:
                type: string
                description: Governance ID (e.g. gov-001)
              feature:
                type: string
                description: Feature identifier
              display_name:
                type: string
                description: Human-readable feature name
              minimum_zone:
                type: string
                description: Minimum governance zone required (green, yellow, red, red-extra)
              zones:
                type: string
                description: JSON object with availability and requirements per zone (green, yellow, red, red-extra)
              justification_template:
                type: string
                description: Template text for requesting access to this feature
        '404':
          description: Feature not found
